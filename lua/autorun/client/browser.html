<!--Sorry for using HTML-->

<!DOCTYPE html>
<html>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	<style>
		.petition {
			color: white;
			background-color: rgb(31, 31, 31);
			border-radius: 25px;
			padding: 15px;
			width: 100%;
			box-sizing: border-box;
			margin-top: 1mm;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}
		#like_button {
			color: white;
			background-color: black;
		}
		#top_menu {
			color: white;
			text-align: center;
			user-select: none;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}
		#vote_menu {
			float: right;
		}
	</style>
	<script>
		// Sorry for using javascript.

		

		function add_petition(petition_id, petition_name, petition_likes, petition_dislikes, petition_author)
		{
			var tree = document.createDocumentFragment();
			var petitionElement = document.createElement("div")
			petitionElement.setAttribute("class", "petition")

			var petitionNameElement = document.createElement("a")
			petitionNameElement.setAttribute("onClick", 'console.log("Label pressed")')
			petitionNameElement.appendChild(document.createTextNode(petition_name)) // TODO: Sanitise HTML

			var petitionAuthorElement = document.createElement("a")
			petitionAuthorElement.setAttribute("style", "float: right;")
			petitionAuthorElement.appendChild(document.createTextNode("Author: "+petition_author)) // TODO: Sanitise HTML

			var voteMenuElement = document.createElement("div")
			voteMenuElement.setAttribute("id", "vote_menu")

			var petitionLikeButton = document.createElement("button")
			petitionLikeButton.setAttribute("id", "like_button")
			var icon = document.createElement("i")
			icon.setAttribute("class", "fa fa-thumbs-up")
			petitionLikeButton.appendChild(icon)
			petitionLikeButton.appendChild(document.createTextNode(" "+petition_likes))
			
			var petitionDislikeButton = document.createElement("button")
			petitionDislikeButton.setAttribute("id", "like_button")
			var icon = document.createElement("i")
			icon.setAttribute("class", "fa fa-thumbs-up")
			petitionDislikeButton.appendChild(icon)
			petitionDislikeButton.appendChild(document.createTextNode(" "+petition_dislikes))

			voteMenuElement.appendChild(petitionLikeButton)
			voteMenuElement.appendChild(petitionDislikeButton)

			petitionElement.appendChild(petitionNameElement)
			petitionElement.appendChild(petitionAuthorElement)
			petitionElement.appendChild(document.createElement("br"))
			petitionElement.appendChild(voteMenuElement)
			tree.appendChild(petitionElement)

			document.getElementById("petition_list").appendChild(tree)
		}
	</script>
	<body>
		<div id="top_menu">
			<button style="float: left;"><i class="fa fa-plus"></i> New</button>
			<span>Voting</span>
			<button onclick='console.log("RUNLUA:ChromeWindow:Remove(); ChromeWindow=nil")' style="float: right;"><i class="fa fa-xmark"></i> Close</button>
		</div>

		<hr>

		<div id="petition_list">
			<div class="petition">
				<a onclick='console.log("RUNLUA:print(\"This is called in Lua context\")")'>PetitionName</a>

				<a style="float: right;">Author: tupoy_ya</a>
				<br>
				<br>
				<div id="vote_menu">
					<button id="like_button"><i class="fa fa-thumbs-up"></i> 2</button>
					<button id="like_button"><i class="fa fa-thumbs-down"></i> 4</button>
				</div>
				<br>
			</div>
		</div>
	</body>
</html>
